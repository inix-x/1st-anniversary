<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Our First Year Story</title>
    <!-- Include Rellax and ScrollReveal -->
    <script src="https://cdn.jsdelivr.net/npm/rellax@1.12.1/rellax.min.js"></script>
    <script src="https://unpkg.com/scrollreveal"></script>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body
    class="text-white font-sans"
    style="background-image: url('resources/background.svg')"
  >
    <!-- Loading Screen -->
    <div
      id="loading-screen"
      class="fixed inset-0 bg-black flex items-center justify-center z-50"
    >
      <div class="text-center">
        <svg
          class="animate-spin h-12 w-12 text-white mx-auto mb-4"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle
            class="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            stroke-width="4"
          ></circle>
          <path
            class="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
          ></path>
        </svg>
        <p class="text-lg font-semibold">Loading...</p>
      </div>
    </div>

    <!-- Parallax Container (Always Visible) -->
    <!-- Move all SVG images here so they remain behind content but fully visible -->
    <div
      id="parallax-container"
      class="fixed inset-0 overflow-hidden pointer-events-none z-0"
    >
      <img
        src="resources/photo.svg"
        alt="Scattered SVG"
        class="absolute rellax filter drop-shadow-xl"
        style="
          top: 10%;
          left: 15%;
          width: 5rem;
          height: 5rem;
          transform: rotate(15deg);
        "
        data-rellax-speed="-2"
      />
      <img
        src="resources/photo.svg"
        alt="Scattered SVG"
        class="absolute rellax filter drop-shadow-xl"
        style="
          top: 50%;
          left: 30%;
          width: 5rem;
          height: 5rem;
          transform: rotate(-10deg);
        "
        data-rellax-speed="-3"
      />
      <img
        src="resources/photo.svg"
        alt="Scattered SVG"
        class="absolute rellax filter drop-shadow-xl"
        style="
          top: 80%;
          left: 60%;
          width: 3rem;
          height: 3rem;
          transform: rotate(25deg);
        "
        data-rellax-speed="-1"
      />
      <img
        src="resources/photo.svg"
        alt="Scattered SVG"
        class="absolute rellax filter drop-shadow-xl"
        style="
          top: 20%;
          left: 75%;
          width: 6rem;
          height: 6rem;
          transform: rotate(-20deg);
        "
        data-rellax-speed="-4"
      />
      <img
        src="resources/photo.svg"
        alt="Scattered SVG"
        class="absolute rellax filter drop-shadow-xl"
        style="
          top: 70%;
          left: 10%;
          width: 3.5rem;
          height: 3.5rem;
          transform: rotate(5deg);
        "
        data-rellax-speed="-2"
      />
    </div>

    <!-- Main Content Container (above the parallax layer) -->
    <div class="relative z-10">
      <!-- Header Section -->
      <header
        class="h-screen flex items-center justify-center bg-transparent"
        data-rellax-speed="-3"
      >
        <section class="py-16 px-8 md:px-24" data-scroll-reveal="fade-in">
          <div class="max-w-4xl mx-auto text-center">
            <h1 class="text-4xl md:text-6xl font-bold drop-shadow-md">
              Our First Year Together
            </h1>
          </div>
        </section>
      </header>

      <!-- SECTION 1: "How It All Started" -->
      <section
        class="h-screen flex items-center justify-center"
        data-rellax-speed="-2"
      >
        <div class="py-16 px-8 md:px-24" data-scroll-reveal="fade-in">
          <h2 class="text-3xl font-semibold mb-4">How It All Started</h2>
          <p class="text-lg leading-relaxed">
            It all began with a simple message, a moment that sparked a
            connection. From that moment, our journey together started to
            unfold.
          </p>
        </div>
      </section>

      <!-- SECTION 2: "Here's to Many More Years" -->
      <section
        class="h-screen flex items-center justify-center"
        data-rellax-speed="-2"
      >
        <div class="py-16 px-8 md:px-24" data-scroll-reveal="fade-in">
          <h2 class="text-3xl font-semibold mb-4">Here's to Many More Years</h2>
          <p class="text-lg leading-relaxed">
            Our first year together is just the beginning of our story. Here's
            to creating more beautiful moments and building a future filled with
            love.
          </p>
        </div>
      </section>
      <!-- SECTION 2: "Here's to Many More Years" -->
      <section
        class="h-screen flex items-center justify-center"
        data-rellax-speed="-2"
      >
        <div class="py-16 px-8 md:px-24" data-scroll-reveal="fade-in">
          <h2 class="text-3xl font-semibold mb-4">Here's to Many More Years</h2>
          <p class="text-lg leading-relaxed">
            Our first year together is just the beginning of our story. Here's
            to creating more beautiful moments and building a future filled with
            love.
          </p>
        </div>
      </section>
      <!-- SECTION 2: "Here's to Many More Years" -->
      <section
        class="h-screen flex items-center justify-center"
        data-rellax-speed="-2"
      >
        <div class="py-16 px-8 md:px-24" data-scroll-reveal="fade-in">
          <h2 class="text-3xl font-semibold mb-4">Here's to Many More Years</h2>
          <p class="text-lg leading-relaxed">
            Our first year together is just the beginning of our story. Here's
            to creating more beautiful moments and building a future filled with
            love.
          </p>
        </div>
      </section>
      <!-- SECTION 2: "Here's to Many More Years" -->
      <section
        class="h-screen flex items-center justify-center"
        data-rellax-speed="-2"
      >
        <div class="py-16 px-8 md:px-24" data-scroll-reveal="fade-in">
          <h2 class="text-3xl font-semibold mb-4">Here's to Many More Years</h2>
          <p class="text-lg leading-relaxed">
            Our first year together is just the beginning of our story. Here's
            to creating more beautiful moments and building a future filled with
            love.
          </p>
        </div>
      </section>
      <!-- SECTION 2: "Here's to Many More Years" -->
      <section
        class="h-screen flex items-center justify-center"
        data-rellax-speed="-2"
      >
        <div class="py-16 px-8 md:px-24" data-scroll-reveal="fade-in">
          <h2 class="text-3xl font-semibold mb-4">Here's to Many More Years</h2>
          <p class="text-lg leading-relaxed">
            Our first year together is just the beginning of our story. Here's
            to creating more beautiful moments and building a future filled with
            love.
          </p>
        </div>
      </section>
    </div>
    <!-- End .relative.z-10 -->
    <script>
      function generateFallingPhotos({
        containerId = "parallax-container",
        count = 10,
        photoSrc = "resources/photo.svg",
        initialTopMin = 5,
        initialTopMax = 10,
        leftMin = 10,
        leftMax = 90,
        rotateMin = -30,
        rotateMax = 30,
        sizeMin = 3,
        sizeMax = 6,
        rellaxSpeedMin = -1,
        rellaxSpeedMax = -4,
      } = {}) {
        // 1. Find the container
        const container = document.getElementById(containerId);
        if (!container) {
          console.error(`Container with ID "${containerId}" not found.`);
          return;
        }
        let topMax = initialTopMax;
        let topMin = initialTopMin;
        // 2. Create and append the images
        for (let i = 1; i <= count; i++) {
          // Randomize top, left, rotation, size, and rellax speed
          topMax += -initialTopMax;
          topMin += -initialTopMin;
          const randomTop = randomBetween(topMin, topMax); // e.g. -20% down to -200%
          const randomLeft = randomBetween(leftMin, leftMax); // e.g. 0% to 80%
          const randomRotate = randomBetween(rotateMin, rotateMax);
          const randomSize = randomBetween(sizeMin, sizeMax);
          const randomRellaxSpeed = randomIntBetween(
            rellaxSpeedMax,
            rellaxSpeedMin
          );
          // NOTE: Since rellax speeds are negative, pass (max, min) to get negative values

          // Create an <img> element
          const img = document.createElement("img");
          img.src = photoSrc;
          img.alt = `Falling Photo ${i}`;
          img.className = "absolute rellax filter drop-shadow-xl";
          img.style.top = `${randomTop}%`;
          img.style.left = `${randomLeft}%`;
          img.style.width = `${randomSize}rem`;
          img.style.height = `${randomSize}rem`;
          img.style.transform = `rotate(${randomRotate}deg)`;
          img.setAttribute("data-rellax-speed", randomRellaxSpeed);

          // Append to container
          container.appendChild(img);
        }
      }

      // Helper function for random floating numbers
      function randomBetween(min, max) {
        // If min > max, swap them
        if (min > max) [min, max] = [max, min];
        return Math.random() * (max - min) + min; // e.g. 5.123
      }

      // Helper function for random integers (inclusive)
      function randomIntBetween(min, max) {
        // If min > max, swap them
        if (min > max) [min, max] = [max, min];
        return Math.floor(Math.random() * (max - min + 1)) + min; // e.g. 3
      }

      // Example usage:
      window.addEventListener("load", () => {
        // Generate 10 falling photos
        generateFallingPhotos({ count: 200 });

        // Then initialize Rellax
        const rellax = new Rellax(".rellax");
      });
    </script>
    <script src="js/loading.js"></script>
    <script src="js/ScrollReveal.config.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Disable automatic scroll restoration (if supported)
        if ("scrollRestoration" in history) {
          history.scrollRestoration = "manual";
        }

        // Force the window to start at the top
        window.scrollTo(0, 0);
      });
    </script>
  </body>
</html>
